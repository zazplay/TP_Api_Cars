{"ast":null,"code":"import React,{useState}from'react';import{PaginationControlContainer,PcaWrapper,CardCarWrapper}from'./pca.styled';import CardCar from'../CardCar/CardCar';import{PaginationControl}from'react-bootstrap-pagination-control';import standartCarImg from'../../img/standartcar.jpg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Pca=_ref=>{let{car,nomer=\"\"}=_ref;const cars=[];if(car!=null&&typeof car==='object'){var car1image=car.photo_url;var standartCar=standartCarImg;for(let i=0;i<car.operations.length;i++){cars.push(car.operations[i]);}}const itemsPerPage=1;const[page,setPage]=useState(1);const[animationClass,setAnimationClass]=useState('slide-in-right');const totalPages=Math.ceil(cars.length/itemsPerPage);const startIndex=(page-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const currentPageItems=cars.slice(startIndex,endIndex);const changePage=newPage=>{const direction=newPage>page?'right':'left';setAnimationClass(\"slide-out-\".concat(direction));setTimeout(()=>{setPage(newPage);setAnimationClass(\"slide-in-\".concat(direction));},500);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PcaWrapper,{children:currentPageItems.map((item,index)=>/*#__PURE__*/_jsx(CardCarWrapper,{className:animationClass,onAnimationEnd:()=>setAnimationClass(''),children:/*#__PURE__*/_jsx(CardCar,{num:nomer,img:page===1?car1image:standartCar,wanted:typeof car==='object'&&car.is_stolen,brand:item.vendor,model:item.model,modelyear:item.model_year,region:item.address,datereg:item.registered_at,color:item.color.ru,fuel:item.fuel.ru})},index))}),/*#__PURE__*/_jsx(PaginationControlContainer,{children:/*#__PURE__*/_jsx(PaginationControl,{page:page,between:4,total:cars.length,limit:itemsPerPage,changePage:changePage,ellipsis:1})})]});};export default Pca;","map":{"version":3,"names":["React","useState","PaginationControlContainer","PcaWrapper","CardCarWrapper","CardCar","PaginationControl","standartCarImg","jsx","_jsx","jsxs","_jsxs","Pca","_ref","car","nomer","cars","car1image","photo_url","standartCar","i","operations","length","push","itemsPerPage","page","setPage","animationClass","setAnimationClass","totalPages","Math","ceil","startIndex","endIndex","currentPageItems","slice","changePage","newPage","direction","concat","setTimeout","children","map","item","index","className","onAnimationEnd","num","img","wanted","is_stolen","brand","vendor","model","modelyear","model_year","region","address","datereg","registered_at","color","ru","fuel","between","total","limit","ellipsis"],"sources":["E:/Git/ReactDZ1/React_repos/pagin/src/components/pca/pca.tsx"],"sourcesContent":["import React, { FC, useState } from 'react';\r\nimport { PaginationControlContainer, PcaWrapper, CardCarWrapper } from './pca.styled';\r\nimport Pagination from 'react-bootstrap/Pagination';\r\nimport CardCar from '../CardCar/CardCar';\r\nimport { PaginationControl } from 'react-bootstrap-pagination-control';\r\nimport standartCarImg from '../../img/standartcar.jpg';\r\n\r\ninterface CarProps {\r\n  car: {\r\n    comments: string[];\r\n    digits: string;\r\n    is_stolen: boolean;\r\n    model: string;\r\n    model_year: number;\r\n    operations: Array<any>;\r\n    photo_url: string;\r\n    region: {\r\n      name: string;\r\n      name_ua: string;\r\n      slug: string;\r\n      old_code: string;\r\n      new_code: string;\r\n    };\r\n    stolen_details: any;\r\n    vendor: string;\r\n    vin: string;\r\n  } | null | string;\r\n  nomer?: string; \r\n}\r\n\r\nconst Pca: FC<CarProps> = ({ car, nomer = \"\" }) => {\r\n  const cars = [];\r\n  \r\n  if (car != null && typeof car === 'object') {\r\n    var car1image = car.photo_url;\r\n    var standartCar = standartCarImg;\r\n    for (let i = 0; i < car.operations.length; i++) {\r\n      cars.push(car.operations[i]);\r\n    }\r\n  }\r\n\r\n  const itemsPerPage = 1;\r\n  const [page, setPage] = useState(1);\r\n  const [animationClass, setAnimationClass] = useState('slide-in-right');\r\n\r\n  const totalPages = Math.ceil(cars.length / itemsPerPage);\r\n  const startIndex = (page - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const currentPageItems = cars.slice(startIndex, endIndex);\r\n\r\n  const changePage = (newPage: number) => {\r\n    const direction = newPage > page ? 'right' : 'left';\r\n    setAnimationClass(`slide-out-${direction}`);\r\n    setTimeout(() => {\r\n      setPage(newPage);\r\n      setAnimationClass(`slide-in-${direction}`);\r\n    }, 500); \r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PcaWrapper>\r\n        {currentPageItems.map((item, index) => (\r\n          <CardCarWrapper\r\n            key={index}\r\n            className={animationClass}\r\n            onAnimationEnd={() => setAnimationClass('')}\r\n          >\r\n            <CardCar\r\n              num={nomer}\r\n              img={page === 1 ? car1image : standartCar}\r\n              wanted={typeof car === 'object' && (car as { is_stolen: boolean }).is_stolen}              \r\n              brand={item.vendor}\r\n              model={item.model}\r\n              modelyear={item.model_year}\r\n              region={item.address}\r\n              datereg={item.registered_at}\r\n              color={item.color.ru}\r\n              fuel={item.fuel.ru}\r\n            />\r\n          </CardCarWrapper>\r\n        ))}\r\n      </PcaWrapper>\r\n      <PaginationControlContainer>\r\n        <PaginationControl\r\n          page={page}\r\n          between={4}\r\n          total={cars.length}\r\n          limit={itemsPerPage}\r\n          changePage={changePage}\r\n          ellipsis={1}\r\n        />\r\n      </PaginationControlContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pca;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}